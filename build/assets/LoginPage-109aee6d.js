import{r as o,a as b,k as y,ak as v,j as e,C as L,R as C,o as k,D as P,F as s,L as g,M as D,al as G,Q as h,am as R,O as S,y as A,P as E,an as F}from"./index-5a5fd040.js";import{A as _}from"./Alert-197a5ec7.js";const I="/assets/images/google.png",q=o.memo(()=>{const{t:a}=b(),[l,u]=o.useState(""),[n,p]=o.useState(""),[c,m]=o.useState(""),d=y(),j=new v,N=async t=>{t.preventDefault();try{await G(h,l,n),d("/")}catch{m("Failed to log in. Please check your credentials.")}},f=async()=>{var t,i;try{const r=(await R(h,j)).user,x=S(A,"webAppUsers",r.uid);(await E(x)).exists()||await F(x,{uid:r.uid,email:r.email,firstName:((t=r.displayName)==null?void 0:t.split(" ")[0])||"",lastName:((i=r.displayName)==null?void 0:i.split(" ").slice(1).join(" "))||""}),d("/")}catch{m("Failed to log in with Google.")}};return e.jsx(o.Fragment,{children:e.jsx("main",{className:"main-content",children:e.jsx("div",{className:"vh-100",style:{backgroundImage:"url(assets/images/pages/01.webp)",backgroundSize:"cover",backgroundRepeat:"no-repeat",position:"relative",minHeight:"500px"},children:e.jsx(L,{children:e.jsx(C,{className:"justify-content-center align-items-center height-self-center vh-100",children:e.jsx(k,{lg:"5",md:"12",className:"align-self-center",children:e.jsxs("div",{className:"user-login-card bg-body",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsx(P,{})}),c&&e.jsx(_,{variant:"danger",children:c}),e.jsxs(s,{onSubmit:N,children:[e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{className:"text-white fw-500 mb-2",children:a("form.username_or_email")}),e.jsx(s.Control,{type:"email",className:"rounded-0",required:!0,value:l,onChange:t=>u(t.target.value)})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{className:"text-white fw-500 mb-2",children:a("form.password")}),e.jsx(s.Control,{type:"password",className:"rounded-0",required:!0,value:n,onChange:t=>p(t.target.value)})]}),e.jsx(s.Group,{className:"text-end mb-3",children:e.jsx(g,{to:"/lost-password",className:"text-primary fw-semibold fst-italic",children:a("form.forgot_password?")})}),e.jsxs(s.Label,{className:"list-group-item d-flex align-items-center mb-3 font-size-14 text-white fw-500",children:[e.jsx(s.Check.Input,{type:"checkbox",className:"m-0 me-2"}),a("form.remember_me")]}),e.jsx("div",{className:"full-button",children:e.jsx("div",{className:"iq-button",children:e.jsxs("button",{type:"submit",className:"btn text-uppercase position-relative",children:[e.jsx("span",{className:"button-text",children:a("form.log_in")}),e.jsx("i",{className:"fa-solid fa-play"})]})})})]}),e.jsxs("div",{className:"text-center my-2 d-flex align-items-center",children:[e.jsx("hr",{className:"flex-grow-1",style:{borderColor:"gray"}}),e.jsx("span",{className:"text-white fw-500 mx-2",children:a("or")}),e.jsx("hr",{className:"flex-grow-1",style:{borderColor:"gray"}})]}),e.jsx("div",{className:"text-center my-3",children:e.jsxs(D,{variant:"outline-secondary",onClick:f,className:"",children:[e.jsx("img",{src:I,alt:"Google Logo",style:{width:"40px",marginRight:"10px"}}),a("Sign in with Google")]})}),e.jsx("p",{className:"my-4 text-center fw-500 text-white",children:e.jsxs(g,{to:"/register",className:"text-white ms-1",children:["Don't have an account? please",e.jsxs("span",{className:"text-primary",children:[" ",a("form.register")]})]})})]})})})})})})})});q.displayName="LoginPage";export{q as default};
