import{c as fe,z as K,r as ye,j as q}from"./index-5a5fd040.js";import{r as ve,v as x}from"./video.es-d27641c8.js";var me={exports:{}};(function(a){(function(l,t){if(typeof window<"u"&&window.videojs)t(window.videojs);else if(a.exports){var u=ve;a.exports=t(u.default||u)}})(fe,function(l){typeof window<"u"&&(window.videojs_hotkeys={version:"0.2.29"});var t=function(r){var e=this,o=e.el(),g=document,c={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:re,rewindKey:ne,forwardKey:ie,volumeUpKey:ue,volumeDownKey:se,muteKey:oe,fullscreenKey:ae,customKeys:{}},m=1,f=2,y=3,h=4,b=5,D=6,R=7,$=l.obj.merge||l.mergeOptions||l.util.mergeOptions;r=$(c,r||{});var I=r.volumeStep,j=r.seekStep,A=r.enableMute,z=r.enableVolumeScroll,G=r.enableHoverScroll,Q=r.enableFullscreen,W=r.enableNumbers,M=r.enableJogStyle,F=r.alwaysCaptureHotkeys,_=r.captureDocumentHotkeys,X=r.documentHotkeysFocusElementFilter,Y=r.enableModifiersForNumbers,Z=r.enableInactiveFocus,ee=r.skipInitialFocus,O=l.VERSION;o.hasAttribute("tabIndex")||o.setAttribute("tabIndex","-1"),o.style.outline="none",(F||!e.autoplay())&&(ee||e.one("play",function(){o.focus()})),Z&&e.on("userinactive",function(){var n=function(){clearTimeout(i)},i=setTimeout(function(){e.off("useractive",n);var s=g.activeElement,v=o.querySelector(".vjs-control-bar");s&&s.parentElement==v&&o.focus()},10);e.one("useractive",n)}),e.on("play",function(){var n=o.querySelector(".iframeblocker");n&&n.style.display===""&&(n.style.display="block",n.style.bottom="39px")});var V=function(i){var s=i.which,v,d,p=i.preventDefault.bind(i),w=e.duration();if(e.controls()){var k=g.activeElement;if(F||_&&X(k)||k==o||k==o.querySelector(".vjs-tech")||k==o.querySelector(".vjs-control-bar")||k==o.querySelector(".iframeblocker"))switch(le(i,e)){case m:p(),(F||_)&&i.stopPropagation(),e.paused()?T(e.play()):e.pause();break;case f:v=!e.paused(),p(),v&&e.pause(),d=e.currentTime()-H(i),d<=0&&(d=0),e.currentTime(d),v&&T(e.play());break;case y:v=!e.paused(),p(),v&&e.pause(),d=e.currentTime()+H(i),d>=w&&(d=v?w-.001:w),e.currentTime(d),v&&T(e.play());break;case b:p(),M?(d=e.currentTime()-1,e.currentTime()<=1&&(d=0),e.currentTime(d)):e.volume(e.volume()-I);break;case h:p(),M?(d=e.currentTime()+1,d>=w&&(d=w),e.currentTime(d)):e.volume(e.volume()+I);break;case D:A&&e.muted(!e.muted());break;case R:Q&&(e.isFullscreen()?e.exitFullscreen():e.requestFullscreen());break;default:if((s>47&&s<59||s>95&&s<106)&&(Y||!(i.metaKey||i.ctrlKey||i.altKey))&&W){var J=48;s>95&&(J=96);var ce=s-J;p(),e.currentTime(e.duration()*ce*.1)}for(var de in r.customKeys){var S=r.customKeys[de];S&&S.key&&S.handler&&S.key(i)&&(p(),S.handler(e,r,i))}}}},te=function(i){if(O!=null&&O<="7.1.0"&&e.controls()){var s=i.relatedTarget||i.toElement||g.activeElement;(s==o||s==o.querySelector(".vjs-tech")||s==o.querySelector(".iframeblocker"))&&Q&&(e.isFullscreen()?e.exitFullscreen():e.requestFullscreen())}},E=!1,P=o.querySelector(".vjs-volume-menu-button")||o.querySelector(".vjs-volume-panel");P!=null&&(P.onmouseover=function(){E=!0},P.onmouseout=function(){E=!1});var N=function(i){if(G)var s=0;else var s=g.activeElement;if(e.controls()&&(F||s==o||s==o.querySelector(".vjs-tech")||s==o.querySelector(".iframeblocker")||s==o.querySelector(".vjs-control-bar")||E)&&z){i=window.event||i;var v=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));i.preventDefault(),v==1?e.volume(e.volume()+I):v==-1&&e.volume(e.volume()-I)}},le=function(i,s){if(r.playPauseKey(i,s))return m;if(r.rewindKey(i,s))return f;if(r.forwardKey(i,s))return y;if(r.volumeUpKey(i,s))return h;if(r.volumeDownKey(i,s))return b;if(r.muteKey(i,s))return D;if(r.fullscreenKey(i,s))return R};function re(n){return n.which===32||n.which===179}function ne(n){return n.which===37||n.which===177}function ie(n){return n.which===39||n.which===176}function ue(n){return n.which===38}function se(n){return n.which===40}function oe(n){return n.which===77}function ae(n){return n.which===70}function H(n){return typeof j=="function"?j(n):j}function T(n){n!=null&&typeof n.then=="function"&&n.then(null,function(i){})}if(_){var C=function(n){V(n)};document.addEventListener("keydown",C),this.dispose=function(){document.removeEventListener("keydown",C)}}else e.on("keydown",V);return e.on("dblclick",te),e.on("mousewheel",N),e.on("DOMMouseScroll",N),this},u=l.registerPlugin||l.plugin;u("hotkeys",t)})})(me);/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class he{constructor(l){let t=this;return t.id=l.id,t.label=t.id,t.width=l.width,t.height=l.height,t.bitrate=l.bandwidth,t.frameRate=l.frameRate,t.enabled_=l.enabled,Object.defineProperty(t,"enabled",{get(){return t.enabled_()},set(u){t.enabled_(u)}}),t}}class L extends x.EventTarget{constructor(){super();let l=this;return l.levels_=[],l.selectedIndex_=-1,Object.defineProperty(l,"selectedIndex",{get(){return l.selectedIndex_}}),Object.defineProperty(l,"length",{get(){return l.levels_.length}}),l[Symbol.iterator]=()=>l.levels_.values(),l}addQualityLevel(l){let t=this.getQualityLevelById(l.id);if(t)return t;const u=this.levels_.length;return t=new he(l),""+u in this||Object.defineProperty(this,u,{get(){return this.levels_[u]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(l){let t=null;for(let u=0,r=this.length;u<r;u++)if(this[u]===l){t=this.levels_.splice(u,1)[0],this.selectedIndex_===u?this.selectedIndex_=-1:this.selectedIndex_>u&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:l,type:"removequalitylevel"}),t}getQualityLevelById(l){for(let t=0,u=this.length;t<u;t++){const r=this[t];if(r.id===l)return r}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}L.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const a in L.prototype.allowedEvents_)L.prototype["on"+a]=null;var U="4.1.0";const be=function(a,l){const t=a.qualityLevels,u=new L,r=function(){u.dispose(),a.qualityLevels=t,a.off("dispose",r)};return a.on("dispose",r),a.qualityLevels=()=>u,a.qualityLevels.VERSION=U,u},B=function(a){return be(this,x.obj.merge({},a))};x.registerPlugin("qualityLevels",B);B.VERSION=U;const we=a=>{const l=K.useRef(null),t=K.useRef(null),{options:u,onReady:r}=a,[e,o]=ye.useState(null);K.useEffect(()=>{if(t.current){const c=t.current;c.autoplay(u.autoplay),c.src(u.sources)}else{const c=document.createElement("video-js");c.classList.add("vjs-big-play-centered"),l.current.appendChild(c);const m=t.current=x(c,u,()=>{x.log("player is ready"),r&&r(m),m.hotkeys({volumeStep:.1,seekStep:5});const f=m.qualityLevels();u.sources.forEach((y,h)=>{const b=parseInt(y.type.split("p")[0],10);f.addQualityLevel({id:`${y.src}`,height:b,enabled:!0})}),f.on("addqualitylevel",function(y){const h=y.qualityLevel;h.height<720&&(h.enabled=!1)}),f.on("change",function(){console.log("Quality Level changed!"),console.log("New level:",f[f.selectedIndex]),o(f[f.selectedIndex].id)})})}},[u,l]);const g=c=>{const m=c.target.value,y=t.current.qualityLevels();y.forEach(b=>{b.enabled=b.id===m});const h=y.findIndex(b=>b.id===m);y.selectedIndex=h,y.trigger({type:"change",selectedIndex:h})};return K.useEffect(()=>{const c=t.current;return()=>{c&&!c.isDisposed()&&(c.dispose(),t.current=null)}},[t]),q.jsxs("div",{"data-vjs-player":!0,children:[q.jsx("div",{ref:l}),q.jsxs("select",{onChange:g,value:e,children:[q.jsx("option",{value:"",disabled:!0,children:"Select Quality"}),u.sources.map((c,m)=>{const f=parseInt(c.type.split("p")[0],10);return q.jsxs("option",{value:c.src,children:[f,"p"]},m)})]})]})};export{we as V};
